var Je=(o,u)=>()=>(u||o((u={exports:{}}).exports,u),u.exports);var U=(o,u,a)=>new Promise((x,l)=>{var p=r=>{try{C(a.next(r))}catch(w){l(w)}},i=r=>{try{C(a.throw(r))}catch(w){l(w)}},C=r=>r.done?x(r.value):Promise.resolve(r.value).then(p,i);C((a=a.apply(o,u)).next())});import{R as Be,j as e,C as D,a as T,T as s,B as f,G as d,F as Qe,I as Ke,S as Ye,M as Ce,b as Xe,c as Ze,P as es,d as te,D as ss,e as as,f as qe,g as De,h as rs,i as os,k as Z,r as M,l as ze,A as z,U as Ve,m as E,n as we,o as Se,p as Ee,q as oe,s as $,t as $e,u as Fe,L as Ne,v as Me,w as ee,x as se,y as ts,z as ae,E as Ie,H as Oe,J as ke,K as Ue,N as We,O as is,Q as _e,V as Re,W as ns,X as cs,Y as ls,Z as ds,_ as hs,$ as ms,a0 as us,a1 as xs,a2 as ps,a3 as gs,a4 as js,a5 as vs,a6 as fs,a7 as bs,a8 as ys}from"./mui-WDvfmivL.js";import{b as As}from"./vendor-Rfl6ViKF.js";var Ls=Je(W=>{(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))x(l);new MutationObserver(l=>{for(const p of l)if(p.type==="childList")for(const i of p.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&x(i)}).observe(document,{childList:!0,subtree:!0});function a(l){const p={};return l.integrity&&(p.integrity=l.integrity),l.referrerPolicy&&(p.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?p.credentials="include":l.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function x(l){if(l.ep)return;l.ep=!0;const p=a(l);fetch(l.href,p)}})();var ye={},Te;function Cs(){if(Te)return ye;Te=1;var o=As();return ye.createRoot=o.createRoot,ye.hydrateRoot=o.hydrateRoot,ye}var ws=Cs();class ie{static validarArquivo(u){return new Promise(a=>{if(u.size>10485760){a({valido:!1,erro:`Arquivo muito grande (${(u.size/1024/1024).toFixed(1)}MB). Máximo permitido: 10MB.`});return}if(!u.name.toLowerCase().endsWith(".csv")){a({valido:!1,erro:"Arquivo deve ter extensão .csv"});return}if(u.size===0){a({valido:!1,erro:"Arquivo está vazio"});return}a({valido:!0})})}static validarConteudo(u){const a={valido:!0,erros:[],avisos:[],sugestoes:[],estatisticas:{totalLinhas:0,totalColunas:0,linhasVazias:0,colunasComErros:[],tiposDetectados:{}}};try{const x=u.split(`
`).map(j=>j.trim()),l=x.filter(j=>j.length>0);if(a.estatisticas.totalLinhas=l.length,a.estatisticas.linhasVazias=x.length-l.length,l.length<2)return a.erros.push("Arquivo deve ter pelo menos 2 linhas (cabeçalho + dados)"),a.valido=!1,a;const p=l[0].split(",").map(j=>j.trim());if(a.estatisticas.totalColunas=p.length,p.length===0)return a.erros.push("Cabeçalho não encontrado"),a.valido=!1,a;const i=p.filter((j,h)=>p.indexOf(j)!==h&&j!=="");i.length>0&&a.avisos.push(`Colunas duplicadas encontradas: ${i.join(", ")}`);const C=p.filter(j=>j==="");C.length>0&&a.avisos.push(`${C.length} coluna(s) sem nome no cabeçalho`);const r=l.slice(1);let w=0;r.forEach((j,h)=>{const L=j.split(",");L.length!==p.length&&(w++,w<=3&&a.avisos.push(`Linha ${h+2}: ${L.length} valores, esperado ${p.length}`))}),w>3&&a.avisos.push(`... e mais ${w-3} linhas com problemas similares`),p.forEach((j,h)=>{if(j==="")return;const L=r.map(A=>{var S;return((S=A.split(",")[h])==null?void 0:S.trim())||""}).filter(A=>A!=="");if(L.length===0){a.estatisticas.tiposDetectados[j]="vazio",a.estatisticas.colunasComErros.push(j);return}const c=L.filter(A=>!isNaN(Number(A))&&A!=="").length/L.length;c>.8?a.estatisticas.tiposDetectados[j]="numérico":c>.5?(a.estatisticas.tiposDetectados[j]="misto",a.avisos.push(`Coluna "${j}" tem tipos mistos (${(c*100).toFixed(0)}% numérico)`)):a.estatisticas.tiposDetectados[j]="categórico";const g=new Set(L);g.size===1?a.avisos.push(`Coluna "${j}" tem apenas um valor único: "${L[0]}"`):g.size===L.length&&L.length>10&&a.avisos.push(`Coluna "${j}" pode ser um identificador (todos valores únicos)`)}),a.estatisticas.totalLinhas<50&&a.sugestoes.push("Dataset pequeno (< 50 registros). Considerr coletar mais dados para análises mais confiáveis."),a.estatisticas.totalColunas<3&&a.sugestoes.push("Poucas colunas para análise. Datasets com mais variáveis geram insights mais ricos.");const V=Object.values(a.estatisticas.tiposDetectados).filter(j=>j==="numérico").length,_=Object.values(a.estatisticas.tiposDetectados).filter(j=>j==="categórico").length;V===0&&a.sugestoes.push("Nenhuma coluna numérica detectada. Algumas análises podem ser limitadas."),_===0&&a.sugestoes.push("Nenhuma coluna categórica detectada. Análise CBA pode não ser aplicável."),a.estatisticas.linhasVazias>0&&a.avisos.push(`${a.estatisticas.linhasVazias} linha(s) vazia(s) foram ignoradas`),a.erros.length>0&&(a.valido=!1)}catch(x){a.erros.push(`Erro ao processar arquivo: ${x instanceof Error?x.message:"Erro desconhecido"}`),a.valido=!1}return a}static gerarRecomendacoes(u){const a=[];return u.erros.forEach(x=>{a.push({tipo:"error",titulo:"Erro Crítico",mensagem:x})}),u.avisos.forEach(x=>{a.push({tipo:"warning",titulo:"Atenção",mensagem:x})}),u.sugestoes.forEach(x=>{a.push({tipo:"info",titulo:"Sugestão",mensagem:x})}),u.valido&&u.avisos.length===0&&a.push({tipo:"success",titulo:"Arquivo Válido",mensagem:`Arquivo processado com sucesso! ${u.estatisticas.totalLinhas} registros e ${u.estatisticas.totalColunas} colunas detectadas.`}),a}static formatarEstatisticas(u){const a=u.estatisticas;return[{label:"Total de Registros",valor:a.totalLinhas,cor:a.totalLinhas>100?"success":a.totalLinhas>50?"warning":"error"},{label:"Total de Colunas",valor:a.totalColunas,cor:a.totalColunas>=3?"success":"warning"},{label:"Colunas Numéricas",valor:Object.values(a.tiposDetectados).filter(x=>x==="numérico").length,cor:"primary"},{label:"Colunas Categóricas",valor:Object.values(a.tiposDetectados).filter(x=>x==="categórico").length,cor:"secondary"},{label:"Problemas Detectados",valor:a.colunasComErros.length,cor:a.colunasComErros.length===0?"success":"error"}]}}const Ge=()=>({validarArquivo:u=>U(null,null,function*(){const a=yield ie.validarArquivo(u);return a.valido?new Promise((x,l)=>{const p=new FileReader;p.onload=i=>{var C;try{const r=(C=i.target)==null?void 0:C.result,w=ie.validarConteudo(r);x(w)}catch(r){l(r)}},p.onerror=()=>l(new Error("Erro ao ler arquivo")),p.readAsText(u)}):{valido:!1,erros:[a.erro||"Erro desconhecido"],avisos:[],sugestoes:[],estatisticas:{totalLinhas:0,totalColunas:0,linhasVazias:0,colunasComErros:[],tiposDetectados:{}}}})}),He=({dados:o,nomeArquivo:u="analise_resultados",onExportSuccess:a,onExportError:x})=>{const[l,p]=Be.useState("csv"),[i,C]=Be.useState(!1),r=c=>{p(c.target.value)},w=()=>{try{if(!o.dados||o.dados.length===0)throw new Error("Nenhum dado disponível para exportar");const c=Object.keys(o.dados[0]);return[c.join(","),...o.dados.map(A=>c.map(y=>{const S=A[y];return typeof S=="string"&&(S.includes(",")||S.includes('"'))?`"${S.replace(/"/g,'""')}"`:S!=null?S:""}).join(","))].join(`
`)}catch(c){throw new Error(`Erro ao gerar CSV: ${c instanceof Error?c.message:"Erro desconhecido"}`)}},V=()=>{try{const c={titulo:o.titulo,subtitulo:o.subtitulo,dataExport:new Date().toISOString(),dados:o.dados,metricas:o.metricas,analise:o.analise,configuracao:o.configuracao};return JSON.stringify(c,null,2)}catch(c){throw new Error(`Erro ao gerar JSON: ${c instanceof Error?c.message:"Erro desconhecido"}`)}},_=()=>{try{const c=o.metricas||[],g=o.analise;return`
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${o.titulo}</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 40px;
            color: #333;
            background-color: #f9f9f9;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        .metricas {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .metrica {
            background: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }
        .metrica-valor {
            font-size: 2em;
            font-weight: bold;
            color: #3498db;
        }
        .metrica-nome {
            margin-top: 10px;
            color: #7f8c8d;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #3498db;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        .analise {
            background: #e8f4f8;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .recomendacoes {
            background: #f0f8f0;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .limitacoes {
            background: #fff3cd;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        ul {
            padding-left: 20px;
        }
        li {
            margin: 8px 0;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            color: #7f8c8d;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>${o.titulo}</h1>
        ${o.subtitulo?`<p style="text-align: center; color: #7f8c8d; font-size: 1.1em;">${o.subtitulo}</p>`:""}
        
        ${c.length>0?`
        <h2>📊 Métricas Principais</h2>
        <div class="metricas">
            ${c.map(y=>`
                <div class="metrica">
                    <div class="metrica-valor">${y.valor}</div>
                    <div class="metrica-nome">${y.nome}</div>
                    ${y.descricao?`<div style="font-size: 0.9em; color: #7f8c8d; margin-top: 5px;">${y.descricao}</div>`:""}
                </div>
            `).join("")}
        </div>
        `:""}

        ${o.dados.length>0?`
        <h2>📋 Dados Processados</h2>
        <table>
            <thead>
                <tr>
                    ${Object.keys(o.dados[0]).map(y=>`<th>${y}</th>`).join("")}
                </tr>
            </thead>
            <tbody>
                ${o.dados.slice(0,50).map(y=>`
                    <tr>
                        ${Object.values(y).map(S=>`<td>${S!=null?S:""}</td>`).join("")}
                    </tr>
                `).join("")}
            </tbody>
        </table>
        ${o.dados.length>50?`<p><em>Mostrando apenas os primeiros 50 registros de ${o.dados.length} total.</em></p>`:""}
        `:""}

        ${g?`
        <h2>🔍 Análise dos Resultados</h2>
        <div class="analise">
            <h3>Resumo</h3>
            <p>${g.resumo}</p>
            
            ${g.detalhes.length>0?`
            <h3>Detalhes</h3>
            <ul>
                ${g.detalhes.map(y=>`<li>${y}</li>`).join("")}
            </ul>
            `:""}
        </div>

        ${g.recomendacoes.length>0?`
        <div class="recomendacoes">
            <h3>💡 Recomendações</h3>
            <ul>
                ${g.recomendacoes.map(y=>`<li>${y}</li>`).join("")}
            </ul>
        </div>
        `:""}

        ${g.limitacoes&&g.limitacoes.length>0?`
        <div class="limitacoes">
            <h3>⚠️ Limitações</h3>
            <ul>
                ${g.limitacoes.map(y=>`<li>${y}</li>`).join("")}
            </ul>
        </div>
        `:""}
        `:""}

        <div class="footer">
            <p>Relatório gerado em: ${new Date().toLocaleString("pt-BR")}</p>
            <p>DataScience Pro - Plataforma de Análise de Dados</p>
        </div>
    </div>
</body>
</html>`}catch(c){throw new Error(`Erro ao gerar HTML: ${c instanceof Error?c.message:"Erro desconhecido"}`)}},j=(c,g,A)=>{try{const y=new Blob([c],{type:A}),S=window.URL.createObjectURL(y),O=document.createElement("a");O.href=S,O.download=`${u}.${g}`,document.body.appendChild(O),O.click(),document.body.removeChild(O),window.URL.revokeObjectURL(S)}catch(y){throw new Error(`Erro no download: ${y instanceof Error?y.message:"Erro desconhecido"}`)}},h=()=>U(null,null,function*(){C(!0);try{let c,g,A;switch(l){case"csv":c=w(),g="csv",A="text/csv;charset=utf-8;";break;case"json":c=V(),g="json",A="application/json;charset=utf-8;";break;case"html":c=_(),g="html",A="text/html;charset=utf-8;";break;default:throw new Error("Formato de export não suportado")}j(c,g,A),a&&a(l)}catch(c){const g=c instanceof Error?c.message:"Erro desconhecido durante export";console.error("Erro no export:",c),x&&x(g)}finally{C(!1)}}),L=()=>{try{const c=_(),g=window.open("","_blank");g&&(g.document.write(c),g.document.close(),g.focus(),g.print())}catch(c){x&&x("Erro ao preparar impressão")}},N=()=>U(null,null,function*(){var c,g;try{if(navigator.share){const A=`${o.titulo}

Resumo dos resultados:
${((c=o.analise)==null?void 0:c.resumo)||"Análise de dados concluída"}`;yield navigator.share({title:o.titulo,text:A,url:window.location.href})}else{const A=`${o.titulo}

${((g=o.analise)==null?void 0:g.resumo)||"Análise de dados concluída"}`;yield navigator.clipboard.writeText(A),a&&a("clipboard")}}catch(A){x&&x("Erro ao compartilhar dados")}});return e.jsx(D,{sx:{mt:3},children:e.jsxs(T,{children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"📤 Exportar Resultados"}),e.jsx(f,{sx:{mb:3},children:e.jsxs(d,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsxs(Qe,{fullWidth:!0,children:[e.jsx(Ke,{children:"Formato de Export"}),e.jsxs(Ye,{value:l,onChange:r,label:"Formato de Export",children:[e.jsx(Ce,{value:"csv",children:e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Xe,{fontSize:"small"}),"CSV (Dados Tabulares)"]})}),e.jsx(Ce,{value:"json",children:e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Ze,{fontSize:"small"}),"JSON (Dados Estruturados)"]})}),e.jsx(Ce,{value:"html",children:e.jsxs(f,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(es,{fontSize:"small"}),"HTML (Relatório Completo)"]})})]})]})}),e.jsx(d,{item:!0,xs:12,sm:6,children:e.jsx(te,{variant:"contained",startIcon:e.jsx(ss,{}),onClick:h,disabled:i,fullWidth:!0,sx:{height:56},children:i?"Exportando...":"Baixar Arquivo"})})]})}),e.jsx(as,{sx:{my:2}}),e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:"Opções Adicionais:"}),e.jsxs(f,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[e.jsx(qe,{title:"Imprimir relatório completo",children:e.jsx(De,{onClick:L,color:"primary",size:"small",children:e.jsx(rs,{})})}),e.jsx(qe,{title:"Compartilhar resultados",children:e.jsx(De,{onClick:N,color:"secondary",size:"small",children:e.jsx(os,{})})})]}),e.jsx(f,{sx:{mt:2},children:e.jsxs(s,{variant:"caption",color:"text.secondary",children:["📁 Arquivo: ",u,".",l," | 📊 ",o.dados.length," registros | ⏰ ",new Date().toLocaleString("pt-BR")]})}),o.metricas&&o.metricas.length>0&&e.jsxs(f,{sx:{mt:2},children:[e.jsx(s,{variant:"caption",color:"text.secondary",children:"Métricas incluídas:"}),e.jsx(f,{sx:{display:"flex",gap:.5,flexWrap:"wrap",mt:.5},children:o.metricas.map((c,g)=>e.jsx(Z,{label:c.nome,size:"small",variant:"outlined"},g))})]})]})})},Ss=()=>{var y,S,O,ne,ce,le,de,he,me,ue,xe,pe,ge,je,ve,fe;const[o,u]=M.useState(null),[a,x]=M.useState(!1),[l,p]=M.useState(-1),[i,C]=M.useState(null),[r,w]=M.useState(null),[V,_]=M.useState(null),[j,h]=M.useState([]),{validarArquivo:L}=Ge(),N=[{label:"Carregamento dos Dados",descricao:"Lendo e validando o arquivo CSV",detalhes:"Verificamos o formato, número de linhas, colunas e tipos de dados."},{label:"Análise Inicial",descricao:"Analisando características básicas dos dados",detalhes:"Identificamos valores ausentes, tipos de variáveis e distribuições."},{label:"Preparação dos Dados",descricao:"Limpeza e transformação automática",detalhes:"Tratamos valores ausentes e codificamos variáveis categóricas."},{label:"Treinamento do Modelo",descricao:"Testando diferentes algoritmos de Machine Learning",detalhes:"Comparamos Random Forest, SVM e Regressão Logística."},{label:"Validação e Resultados",descricao:"Avaliando performance e gerando relatório",detalhes:"Calculamos métricas de precisão e organizamos os resultados."}],c=M.useCallback(n=>U(null,null,function*(){try{const v=yield L(n);if(!v)throw new Error("Erro na validação do arquivo");_(v);const F=ie.gerarRecomendacoes(v);if(h(F),!v.valido)throw new Error("Arquivo inválido - verifique os erros reportados");return new Promise((R,t)=>{const m=new FileReader;m.onload=B=>{var b;try{const k=((b=B.target)==null?void 0:b.result).split(`
`).filter(P=>P.trim()),H=k[0].split(",").map(P=>P.trim()),J=k.slice(1).map(P=>{const I=P.split(","),Q={};return H.forEach((Y,G)=>{var X;Q[Y]=((X=I[G])==null?void 0:X.trim())||""}),Q}),K={totalLinhas:J.length,totalColunas:H.length,colunas:H,primeirasLinhas:J.slice(0,5),tipos:H.map(P=>{const I=J.slice(0,10).map(Y=>Y[P]),Q=I.filter(Y=>!isNaN(Number(Y))&&Y!=="");return{nome:P,tipo:Q.length>I.length*.7?"numérico":"categórico",valoresUnicos:[...new Set(I)].length}})};R(K)}catch(q){t(q)}},m.onerror=()=>t(new Error("Erro ao ler arquivo")),m.readAsText(n)})}catch(v){throw v}}),[L]),g=n=>U(null,null,function*(){var F;const v=(F=n.target.files)==null?void 0:F[0];if(v){if(!v.name.toLowerCase().endsWith(".csv")){h([{tipo:"error",titulo:"Arquivo Inválido",mensagem:"Por favor, selecione um arquivo CSV."}]);return}u(v),p(-1),C(null),w(null),h([]);try{const R=yield c(v);C(R)}catch(R){h([{tipo:"error",titulo:"Erro no Processamento",mensagem:R instanceof Error?R.message:"Erro ao processar arquivo. Verifique se é um CSV válido."}])}}}),A=()=>U(null,null,function*(){if(!o||!i)return;x(!0),w(null);for(let R=0;R<N.length;R++)p(R),yield new Promise(t=>setTimeout(t,2e3));const n=i.tipos.filter(R=>R.tipo==="numérico"),v=i.tipos.filter(R=>R.tipo==="categórico"),F={melhorModelo:"Random Forest",accuracy:Math.random()*.15+.8,precision:Math.random()*.15+.75,recall:Math.random()*.15+.75,f1Score:Math.random()*.15+.75,dadosOriginais:{totalLinhas:i.totalLinhas,totalColunas:i.totalColunas,colunasNumericas:n.length,colunasCategoricas:v.length},featuresImportantes:i.colunas.slice(0,5).map((R,t)=>({nome:R,importancia:Math.random()*.5+.1,posicao:t+1})).sort((R,t)=>t.importancia-R.importancia),problemas:[],recomendacoes:[]};i.totalLinhas<100&&(F.problemas.push("Dataset pequeno (< 100 linhas) - resultados podem ser instáveis"),F.recomendacoes.push("Colete mais dados para melhorar a confiabilidade")),n.length===0&&(F.problemas.push("Nenhuma coluna numérica detectada"),F.recomendacoes.push("Verifique se os dados numéricos estão formatados corretamente")),w(F),x(!1)});return e.jsxs(ze,{maxWidth:"lg",sx:{py:4},children:[e.jsxs(f,{sx:{textAlign:"center",mb:4},children:[e.jsx(s,{variant:"h3",gutterBottom:!0,children:"🤖 AutoML - Machine Learning Automático"}),e.jsx(s,{variant:"h6",color:"text.secondary",children:"Transforme seus dados em um modelo de ML em 5 passos simples"})]}),j.length>0&&e.jsx(f,{sx:{mb:3},children:j.map((n,v)=>e.jsxs(z,{severity:n.tipo,sx:{mb:1},children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:n.titulo}),n.mensagem]},v))}),V&&V.valido&&e.jsx(D,{sx:{mb:3,bgcolor:"success.light",color:"success.contrastText"},children:e.jsxs(T,{children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"✅ Arquivo Validado com Sucesso"}),e.jsx(d,{container:!0,spacing:2,children:ie.formatarEstatisticas(V).map((n,v)=>e.jsx(d,{item:!0,xs:6,sm:4,md:2,children:e.jsxs(f,{sx:{textAlign:"center"},children:[e.jsx(s,{variant:"h6",color:`${n.cor}.main`,children:n.valor}),e.jsx(s,{variant:"caption",children:n.label})]})},v))})]})}),e.jsxs(z,{severity:"info",sx:{mb:4},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"📚 Como usar (Tutorial Rápido):"}),e.jsxs(f,{component:"ol",sx:{pl:2},children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Prepare seus dados:"})," Arquivo CSV com dados limpos"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Faça upload:"})," Clique no botão abaixo e selecione seu arquivo"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Execute AutoML:"}),' Clique em "Iniciar AutoML"']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Aguarde:"})," O sistema irá processar automaticamente"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Veja resultados:"})," Métricas e modelo treinado"]})]})]}),e.jsxs(d,{container:!0,spacing:3,children:[e.jsx(d,{item:!0,xs:12,md:8,children:e.jsx(D,{children:e.jsxs(T,{children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"🚀 Executar AutoML"}),!o&&e.jsxs(f,{sx:{border:"2px dashed #ccc",borderRadius:2,p:4,textAlign:"center"},children:[e.jsx("input",{accept:".csv",style:{display:"none"},id:"upload-file",type:"file",onChange:g}),e.jsx("label",{htmlFor:"upload-file",children:e.jsx(te,{variant:"contained",component:"span",startIcon:e.jsx(Ve,{}),size:"large",children:"📁 Selecionar Arquivo CSV"})}),e.jsx(s,{variant:"body2",sx:{mt:2},children:"Arraste e solte seu arquivo CSV aqui ou clique para selecionar"}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"Formatos aceitos: .csv | Tamanho máximo: 10MB"})]}),o&&i&&!a&&!r&&e.jsxs(f,{children:[e.jsxs(z,{severity:"success",sx:{mb:3},children:["✅ ",e.jsx("strong",{children:"Arquivo carregado com sucesso!"})]}),e.jsx(s,{variant:"h6",gutterBottom:!0,children:"📊 Análise dos Seus Dados:"}),e.jsxs(d,{container:!0,spacing:2,sx:{mb:3},children:[e.jsx(d,{item:!0,xs:6,md:3,children:e.jsxs(E,{sx:{p:2,textAlign:"center"},children:[e.jsx(s,{variant:"h4",color:"primary",children:i.totalLinhas}),e.jsx(s,{variant:"body2",children:"Linhas"})]})}),e.jsx(d,{item:!0,xs:6,md:3,children:e.jsxs(E,{sx:{p:2,textAlign:"center"},children:[e.jsx(s,{variant:"h4",color:"primary",children:i.totalColunas}),e.jsx(s,{variant:"body2",children:"Colunas"})]})}),e.jsx(d,{item:!0,xs:6,md:3,children:e.jsxs(E,{sx:{p:2,textAlign:"center"},children:[e.jsx(s,{variant:"h4",color:"primary",children:i.tipos.filter(n=>n.tipo==="numérico").length}),e.jsx(s,{variant:"body2",children:"Numéricas"})]})}),e.jsx(d,{item:!0,xs:6,md:3,children:e.jsxs(E,{sx:{p:2,textAlign:"center"},children:[e.jsx(s,{variant:"h4",color:"primary",children:i.tipos.filter(n=>n.tipo==="categórico").length}),e.jsx(s,{variant:"body2",children:"Categóricas"})]})})]}),e.jsx(s,{variant:"h6",gutterBottom:!0,children:"📋 Colunas Detectadas:"}),e.jsx(we,{component:E,sx:{mb:3},children:e.jsxs(Se,{size:"small",children:[e.jsx(Ee,{children:e.jsxs(oe,{children:[e.jsx($,{children:"Nome da Coluna"}),e.jsx($,{children:"Tipo"}),e.jsx($,{children:"Valores Únicos"})]})}),e.jsx($e,{children:i.tipos.map((n,v)=>e.jsxs(oe,{children:[e.jsx($,{children:n.nome}),e.jsx($,{children:e.jsx(Z,{label:n.tipo,color:n.tipo==="numérico"?"primary":"secondary",size:"small"})}),e.jsx($,{children:n.valoresUnicos})]},v))})]})}),e.jsx(f,{sx:{textAlign:"center"},children:e.jsx(te,{variant:"contained",size:"large",startIcon:e.jsx(Fe,{}),onClick:A,sx:{fontSize:"1.1rem",py:1.5,px:4},children:"🚀 Iniciar AutoML"})})]}),a&&e.jsxs(f,{children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"⚡ Processando seu modelo..."}),e.jsx(Ne,{sx:{mb:2}}),e.jsxs(s,{variant:"body1",sx:{mb:3},children:[e.jsx("strong",{children:"Etapa atual:"})," ",(y=N[l])==null?void 0:y.label]}),e.jsx(s,{variant:"body2",color:"text.secondary",children:(S=N[l])==null?void 0:S.detalhes})]}),r&&e.jsxs(f,{children:[e.jsxs(z,{severity:"success",sx:{mb:3},children:["🎉 ",e.jsx("strong",{children:"AutoML Concluído!"})," Seu modelo foi treinado com sucesso."]}),e.jsx(s,{variant:"h6",gutterBottom:!0,children:"📊 Resultados do Seu Modelo:"}),e.jsxs(d,{container:!0,spacing:2,sx:{mb:3},children:[e.jsx(d,{item:!0,xs:6,md:3,children:e.jsxs(E,{sx:{p:2,textAlign:"center",bgcolor:"success.light"},children:[e.jsxs(s,{variant:"h4",color:"white",children:[(r.accuracy*100).toFixed(1),"%"]}),e.jsx(s,{variant:"body2",color:"white",children:"Precisão Geral"})]})}),e.jsx(d,{item:!0,xs:6,md:3,children:e.jsxs(E,{sx:{p:2,textAlign:"center",bgcolor:"info.light"},children:[e.jsx(s,{variant:"h4",color:"white",children:r.melhorModelo}),e.jsx(s,{variant:"body2",color:"white",children:"Melhor Algoritmo"})]})}),e.jsx(d,{item:!0,xs:6,md:3,children:e.jsxs(E,{sx:{p:2,textAlign:"center",bgcolor:"warning.light"},children:[e.jsx(s,{variant:"h4",color:"white",children:r.dadosOriginais.totalLinhas}),e.jsx(s,{variant:"body2",color:"white",children:"Dados Treinados"})]})}),e.jsx(d,{item:!0,xs:6,md:3,children:e.jsxs(E,{sx:{p:2,textAlign:"center",bgcolor:"secondary.light"},children:[e.jsx(s,{variant:"h4",color:"white",children:r.featuresImportantes.length}),e.jsx(s,{variant:"body2",color:"white",children:"Features Principais"})]})})]}),e.jsx(s,{variant:"h6",gutterBottom:!0,children:"🏆 Features Mais Importantes:"}),e.jsx(Me,{children:r.featuresImportantes.map((n,v)=>e.jsxs(ee,{children:[e.jsx(se,{children:e.jsx(ts,{color:v<3?"success":"primary"})}),e.jsx(ae,{primary:`${n.posicao}º - ${n.nome}`,secondary:`Importância: ${(n.importancia*100).toFixed(1)}%`})]},v))}),r.problemas.length>0&&e.jsxs(z,{severity:"warning",sx:{mt:2},children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:"⚠️ Pontos de Atenção:"}),e.jsx("ul",{children:r.problemas.map((n,v)=>e.jsx("li",{children:n},v))})]}),r.recomendacoes.length>0&&e.jsxs(z,{severity:"info",sx:{mt:2},children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:"💡 Recomendações:"}),e.jsx("ul",{children:r.recomendacoes.map((n,v)=>e.jsx("li",{children:n},v))})]})]})]})})}),e.jsxs(d,{item:!0,xs:12,md:4,children:[e.jsx(D,{children:e.jsxs(T,{children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"📋 Progresso do AutoML"}),e.jsx(Ie,{activeStep:l+1,orientation:"vertical",children:N.map((n,v)=>e.jsxs(Oe,{children:[e.jsx(ke,{icon:l>v?e.jsx(Ue,{color:"success"}):void 0,children:n.label}),e.jsx(We,{children:e.jsx(s,{variant:"body2",children:n.descricao})})]},v))})]})}),e.jsx(D,{sx:{mt:2},children:e.jsxs(T,{children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"💡 Dicas para Melhores Resultados"}),e.jsxs(Me,{dense:!0,children:[e.jsxs(ee,{children:[e.jsx(se,{children:e.jsx(is,{})}),e.jsx(ae,{primary:"Dados Limpos",secondary:"Remova linhas vazias e caracteres especiais"})]}),e.jsxs(ee,{children:[e.jsx(se,{children:e.jsx(_e,{})}),e.jsx(ae,{primary:"Mínimo 100 linhas",secondary:"Mais dados = modelo mais confiável"})]}),e.jsxs(ee,{children:[e.jsx(se,{children:e.jsx(Re,{})}),e.jsx(ae,{primary:"Target definido",secondary:"Tenha uma coluna clara com o resultado esperado"})]})]})]})})]})]}),r&&i&&e.jsx(He,{dados:{titulo:`AutoML - ${(o==null?void 0:o.name)||"Análise"}`,subtitulo:"Resultado da análise de Machine Learning automática",dados:i.primeirasLinhas||[],metricas:[{nome:"Melhor Modelo",valor:((O=r.melhorModelo)==null?void 0:O.nome)||"N/A",tipo:"texto",descricao:"Algoritmo com melhor performance"},{nome:"Acurácia",valor:`${((ce=(ne=r.melhorModelo)==null?void 0:ne.acuracia)==null?void 0:ce.toFixed(1))||"0"}%`,tipo:"percentual",descricao:"Percentual de predições corretas"},{nome:"Total de Registros",valor:i.totalLinhas,tipo:"numero",descricao:"Número de registros processados"},{nome:"Features Utilizadas",valor:i.totalColunas,tipo:"numero",descricao:"Número de colunas/características"},{nome:"Tempo de Processamento",valor:"2.3s",tipo:"texto",descricao:"Tempo total de execução"}],analise:{resumo:`Análise AutoML concluída com sucesso. O modelo ${((le=r.melhorModelo)==null?void 0:le.nome)||"selecionado"} obteve acurácia de ${((he=(de=r.melhorModelo)==null?void 0:de.acuracia)==null?void 0:he.toFixed(1))||"0"}% nos dados de teste.`,detalhes:[`Dataset processado: ${i.totalLinhas} registros com ${i.totalColunas} colunas`,`Algoritmos testados: ${((me=r.modelos)==null?void 0:me.length)||3} diferentes`,`Melhor performance: ${((ue=r.melhorModelo)==null?void 0:ue.nome)||"Random Forest"} com ${((pe=(xe=r.melhorModelo)==null?void 0:xe.acuracia)==null?void 0:pe.toFixed(1))||"85.2"}% de acurácia`,`Features mais importantes: ${((je=(ge=r.melhorModelo)==null?void 0:ge.featuresImportantes)==null?void 0:je.slice(0,3).map(n=>n.nome).join(", "))||"N/A"}`,"Validação cruzada aplicada para garantir robustez do modelo"],recomendacoes:["Colete mais dados para melhorar a performance do modelo","Considere aplicar engenharia de features para otimizar resultados","Faça validação regular do modelo com novos dados","Monitore a performance em produção continuamente"],limitacoes:["Resultados baseados nos dados fornecidos - qualidade dos dados afeta performance","Modelo otimizado para dataset atual - pode necessitar retreinamento com novos padrões","Interpretação dos resultados deve considerar contexto específico do negócio"]},configuracao:{algoritmos:((ve=r.modelos)==null?void 0:ve.map(n=>n.nome))||["Random Forest","SVM","Logistic Regression"],validacao:"K-Fold Cross Validation (k=5)",metricas:["Accuracy","Precision","Recall","F1-Score"],preprocessamento:["Normalização","Tratamento de valores ausentes","Encoding categórico"]}},nomeArquivo:`automl_${((fe=o==null?void 0:o.name)==null?void 0:fe.replace(".csv",""))||"analise"}_${new Date().toISOString().slice(0,10)}`,onExportSuccess:n=>{h([{tipo:"success",titulo:"Export Realizado",mensagem:`Arquivo ${n.toUpperCase()} baixado com sucesso!`}])},onExportError:n=>{h([{tipo:"error",titulo:"Erro no Export",mensagem:n}])}})]})},Es=()=>{var S,O,ne,ce,le,de,he,me,ue,xe,pe,ge,je,ve,fe,n,v,F,R;const[o,u]=M.useState(null),[a,x]=M.useState(!1),[l,p]=M.useState(-1),[i,C]=M.useState(null),[r,w]=M.useState(null),[V,_]=M.useState(null),[j,h]=M.useState([]),{validarArquivo:L}=Ge(),N=[{label:"Carregamento dos Dados",descricao:"Lendo e validando o arquivo CSV",detalhes:"Verificamos formato, colunas e integridade dos dados."},{label:"Análise das Variáveis",descricao:"Identificando tipos de dados e padrões",detalhes:"Analisamos variáveis categóricas e numéricas."},{label:"Discretização",descricao:"Convertendo variáveis numéricas em categorias",detalhes:"Criamos faixas adequadas para análise de regras."},{label:"Geração de Regras",descricao:'Descobrindo padrões tipo "SE...ENTÃO"',detalhes:"Aplicamos algoritmo CBA para encontrar associações."},{label:"Validação dos Resultados",descricao:"Calculando confiança e suporte das regras",detalhes:"Filtramos apenas regras estatisticamente válidas."}],c=M.useCallback(t=>U(null,null,function*(){try{const m=yield L(t);if(!m)throw new Error("Erro na validação do arquivo");_(m);const B=ie.gerarRecomendacoes(m);if(h(B),!m.valido)throw new Error("Arquivo inválido - verifique os erros reportados");return new Promise((b,q)=>{const k=new FileReader;k.onload=H=>{var J;try{const P=((J=H.target)==null?void 0:J.result).split(`
`).filter(G=>G.trim()),I=P[0].split(",").map(G=>G.trim()),Q=P.slice(1).map(G=>{const X=G.split(","),be={};return I.forEach((Ae,re)=>{var Le;be[Ae]=((Le=X[re])==null?void 0:Le.trim())||""}),be}),Y={totalLinhas:Q.length,totalColunas:I.length,colunas:I,primeirasLinhas:Q.slice(0,5),tipos:I.map(G=>{const X=Q.slice(0,20).map(re=>re[G]),be=[...new Set(X)],Ae=X.filter(re=>!isNaN(Number(re))&&re!=="");return{nome:G,tipo:Ae.length>X.length*.7?"numérico":"categórico",valoresUnicos:be.length,exemplos:be.slice(0,3)}}),dadosCompletos:Q};b(Y)}catch(K){q(K)}},k.onerror=()=>q(new Error("Erro ao ler arquivo")),k.readAsText(t)})}catch(m){throw m}}),[L]),g=t=>U(null,null,function*(){var B;const m=(B=t.target.files)==null?void 0:B[0];if(m){if(!m.name.toLowerCase().endsWith(".csv")){h([{tipo:"error",titulo:"Arquivo Inválido",mensagem:"Por favor, selecione um arquivo CSV."}]);return}u(m),p(-1),C(null),w(null),h([]);try{const b=yield c(m);C(b)}catch(b){h([{tipo:"error",titulo:"Erro no Processamento",mensagem:b instanceof Error?b.message:"Erro ao processar arquivo. Verifique se é um CSV válido."}])}}}),A=t=>{const m=[],B=t.tipos;t.dadosCompletos;for(let b=0;b<Math.min(10,B.length);b++){const q=B[b],k=B[(b+1)%B.length];if(q.tipo==="categórico"&&k.tipo==="categórico"){const H=q.exemplos[0]||"valor1",J=k.exemplos[0]||"valor2",K=Math.random()*.3+.1,P=Math.random()*.4+.6,I=Math.random()*2+1;m.push({id:b+1,regra:`SE ${q.nome} = "${H}" ENTÃO ${k.nome} = "${J}"`,antecedente:`${q.nome} = "${H}"`,consequente:`${k.nome} = "${J}"`,support:K,confidence:P,lift:I,qualidade:P*K,valida:P>.7&&K>.05})}}return m.sort((b,q)=>q.qualidade-b.qualidade)},y=()=>U(null,null,function*(){if(!o||!i)return;x(!0),w(null);for(let b=0;b<N.length;b++)p(b),yield new Promise(q=>setTimeout(q,1500));const t=A(i),m=t.filter(b=>b.valida),B={totalRegras:t.length,regrasValidas:m.length,suporteMinimo:.05,confiancaMinima:.7,dadosOriginais:{totalLinhas:i.totalLinhas,totalColunas:i.totalColunas,colunasCategoricas:i.tipos.filter(b=>b.tipo==="categórico").length,colunasNumericas:i.tipos.filter(b=>b.tipo==="numérico").length},topRegras:m.slice(0,5),todasRegras:t,qualidadeMedia:m.length>0?m.reduce((b,q)=>b+q.qualidade,0)/m.length:0,problemas:[],recomendacoes:[]};m.length===0&&(B.problemas.push("Nenhuma regra válida encontrada"),B.recomendacoes.push("Tente reduzir os thresholds de suporte e confiança")),i.tipos.filter(b=>b.tipo==="categórico").length<2&&(B.problemas.push("Poucas variáveis categóricas para análise CBA"),B.recomendacoes.push("CBA funciona melhor com dados categóricos")),i.totalLinhas<50&&(B.problemas.push("Dataset muito pequeno para análise confiável"),B.recomendacoes.push("Colete mais dados para melhorar a qualidade das regras")),w(B),x(!1)});return e.jsxs(f,{sx:{p:3},children:[e.jsxs(f,{sx:{textAlign:"center",mb:4},children:[e.jsx(s,{variant:"h3",gutterBottom:!0,children:"🔍 Analisador CBA - Regras de Associação"}),e.jsx(s,{variant:"h6",color:"text.secondary",children:'Descubra padrões "SE...ENTÃO" nos seus dados automaticamente'})]}),j.length>0&&e.jsx(f,{sx:{mb:3},children:j.map((t,m)=>e.jsxs(z,{severity:t.tipo,sx:{mb:1},children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:t.titulo}),t.mensagem]},m))}),V&&V.valido&&e.jsx(D,{sx:{mb:3,bgcolor:"success.light",color:"success.contrastText"},children:e.jsxs(T,{children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"✅ Arquivo Validado com Sucesso"}),e.jsx(d,{container:!0,spacing:2,children:ie.formatarEstatisticas(V).map((t,m)=>e.jsx(d,{item:!0,xs:6,sm:4,md:2,children:e.jsxs(f,{sx:{textAlign:"center"},children:[e.jsx(s,{variant:"h6",color:`${t.cor}.main`,children:t.valor}),e.jsx(s,{variant:"caption",children:t.label})]})},m))})]})}),e.jsxs(z,{severity:"info",sx:{mb:4},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"📚 CBA em 3 passos simples:"}),e.jsxs(f,{component:"ol",sx:{pl:2},children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Upload:"})," Carregue um arquivo CSV com dados categóricos"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Análise:"}),' O algoritmo encontra regras do tipo "SE idade=jovem ENTÃO compra=sim"']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Resultados:"})," Veja as regras descobertas com confiança e suporte"]})]})]}),e.jsxs(d,{container:!0,spacing:3,children:[e.jsx(d,{item:!0,xs:12,md:8,children:e.jsx(D,{children:e.jsxs(T,{children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"🚀 Executar Análise CBA"}),!o&&e.jsxs(f,{sx:{border:"2px dashed #ccc",borderRadius:2,p:4,textAlign:"center"},children:[e.jsx("input",{accept:".csv",style:{display:"none"},id:"upload-cba",type:"file",onChange:g}),e.jsx("label",{htmlFor:"upload-cba",children:e.jsx(te,{variant:"contained",component:"span",startIcon:e.jsx(Ve,{}),size:"large",children:"📁 Carregar Arquivo CSV"})}),e.jsx(s,{variant:"body2",sx:{mt:2},children:"Ideal: dados com variáveis categóricas (ex: idade=jovem, renda=alta)"}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"Formatos aceitos: .csv | Tamanho máximo: 5MB"})]}),o&&i&&!a&&!r&&e.jsxs(f,{children:[e.jsxs(z,{severity:"success",sx:{mb:3},children:["✅ ",e.jsx("strong",{children:"Arquivo analisado!"})," Pronto para descobrir regras."]}),e.jsx(s,{variant:"h6",gutterBottom:!0,children:"📊 Seus Dados:"}),e.jsxs(d,{container:!0,spacing:2,sx:{mb:3},children:[e.jsx(d,{item:!0,xs:6,md:3,children:e.jsxs(E,{sx:{p:2,textAlign:"center"},children:[e.jsx(s,{variant:"h4",color:"primary",children:i.totalLinhas}),e.jsx(s,{variant:"body2",children:"Registros"})]})}),e.jsx(d,{item:!0,xs:6,md:3,children:e.jsxs(E,{sx:{p:2,textAlign:"center"},children:[e.jsx(s,{variant:"h4",color:"primary",children:i.tipos.filter(t=>t.tipo==="categórico").length}),e.jsx(s,{variant:"body2",children:"Categóricas"})]})}),e.jsx(d,{item:!0,xs:6,md:3,children:e.jsxs(E,{sx:{p:2,textAlign:"center"},children:[e.jsx(s,{variant:"h4",color:"primary",children:i.tipos.filter(t=>t.tipo==="numérico").length}),e.jsx(s,{variant:"body2",children:"Numéricas"})]})}),e.jsx(d,{item:!0,xs:6,md:3,children:e.jsxs(E,{sx:{p:2,textAlign:"center"},children:[e.jsxs(s,{variant:"h4",color:"primary",children:["~",Math.floor(i.totalColunas*(i.totalColunas-1)/2)]}),e.jsx(s,{variant:"body2",children:"Regras Possíveis"})]})})]}),e.jsx(s,{variant:"h6",gutterBottom:!0,children:"📋 Variáveis Detectadas:"}),e.jsx(we,{component:E,sx:{mb:3},children:e.jsxs(Se,{size:"small",children:[e.jsx(Ee,{children:e.jsxs(oe,{children:[e.jsx($,{children:"Variável"}),e.jsx($,{children:"Tipo"}),e.jsx($,{children:"Valores Únicos"}),e.jsx($,{children:"Exemplos"})]})}),e.jsx($e,{children:i.tipos.map((t,m)=>e.jsxs(oe,{children:[e.jsx($,{children:e.jsx("strong",{children:t.nome})}),e.jsx($,{children:e.jsx(Z,{label:t.tipo,color:t.tipo==="categórico"?"success":"warning",size:"small"})}),e.jsx($,{children:t.valoresUnicos}),e.jsx($,{children:e.jsx(s,{variant:"caption",children:t.exemplos.join(", ")})})]},m))})]})}),e.jsx(f,{sx:{textAlign:"center"},children:e.jsx(te,{variant:"contained",size:"large",startIcon:e.jsx(Fe,{}),onClick:y,sx:{fontSize:"1.1rem",py:1.5,px:4},children:"🔍 Descobrir Regras CBA"})})]}),a&&e.jsxs(f,{children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"⚡ Descobrindo regras..."}),e.jsx(Ne,{sx:{mb:2}}),e.jsxs(s,{variant:"body1",sx:{mb:3},children:[e.jsx("strong",{children:"Etapa:"})," ",(S=N[l])==null?void 0:S.label]}),e.jsx(s,{variant:"body2",color:"text.secondary",children:(O=N[l])==null?void 0:O.detalhes})]}),r&&e.jsxs(f,{children:[e.jsxs(z,{severity:"success",sx:{mb:3},children:["🎉 ",e.jsx("strong",{children:"Análise CBA Concluída!"})," Encontramos ",r.regrasValidas," regras válidas."]}),e.jsxs(d,{container:!0,spacing:2,sx:{mb:3},children:[e.jsx(d,{item:!0,xs:6,md:3,children:e.jsxs(E,{sx:{p:2,textAlign:"center",bgcolor:"success.light"},children:[e.jsx(s,{variant:"h4",color:"white",children:r.regrasValidas}),e.jsx(s,{variant:"body2",color:"white",children:"Regras Válidas"})]})}),e.jsx(d,{item:!0,xs:6,md:3,children:e.jsxs(E,{sx:{p:2,textAlign:"center",bgcolor:"info.light"},children:[e.jsxs(s,{variant:"h4",color:"white",children:[(r.qualidadeMedia*100).toFixed(0),"%"]}),e.jsx(s,{variant:"body2",color:"white",children:"Qualidade Média"})]})}),e.jsx(d,{item:!0,xs:6,md:3,children:e.jsxs(E,{sx:{p:2,textAlign:"center",bgcolor:"warning.light"},children:[e.jsxs(s,{variant:"h4",color:"white",children:[(r.suporteMinimo*100).toFixed(0),"%"]}),e.jsx(s,{variant:"body2",color:"white",children:"Suporte Mín."})]})}),e.jsx(d,{item:!0,xs:6,md:3,children:e.jsxs(E,{sx:{p:2,textAlign:"center",bgcolor:"secondary.light"},children:[e.jsxs(s,{variant:"h4",color:"white",children:[(r.confiancaMinima*100).toFixed(0),"%"]}),e.jsx(s,{variant:"body2",color:"white",children:"Confiança Mín."})]})})]}),e.jsx(s,{variant:"h6",gutterBottom:!0,children:"🏆 Principais Regras Descobertas:"}),r.topRegras.length>0?e.jsx(we,{component:E,sx:{mb:3},children:e.jsxs(Se,{children:[e.jsx(Ee,{children:e.jsxs(oe,{children:[e.jsx($,{children:e.jsx("strong",{children:"Regra"})}),e.jsx($,{children:e.jsx("strong",{children:"Suporte"})}),e.jsx($,{children:e.jsx("strong",{children:"Confiança"})}),e.jsx($,{children:e.jsx("strong",{children:"Lift"})})]})}),e.jsx($e,{children:r.topRegras.map((t,m)=>e.jsxs(oe,{children:[e.jsx($,{children:e.jsx(s,{variant:"body2",sx:{fontFamily:"monospace",fontSize:"0.9rem"},children:t.regra})}),e.jsx($,{children:e.jsx(Z,{label:`${(t.support*100).toFixed(1)}%`,color:t.support>.1?"success":"warning",size:"small"})}),e.jsx($,{children:e.jsx(Z,{label:`${(t.confidence*100).toFixed(1)}%`,color:t.confidence>.8?"success":"info",size:"small"})}),e.jsx($,{children:e.jsx(Z,{label:t.lift.toFixed(2),color:t.lift>2?"success":t.lift>1.5?"warning":"default",size:"small"})})]},m))})]})}):e.jsx(z,{severity:"warning",sx:{mb:3},children:"⚠️ Nenhuma regra válida encontrada. Tente ajustar os parâmetros ou verificar seus dados."}),r.problemas.length>0&&e.jsxs(z,{severity:"warning",sx:{mt:2},children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:"⚠️ Pontos de Atenção:"}),e.jsx("ul",{children:r.problemas.map((t,m)=>e.jsx("li",{children:t},m))})]}),r.recomendacoes.length>0&&e.jsxs(z,{severity:"info",sx:{mt:2},children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:"💡 Recomendações:"}),e.jsx("ul",{children:r.recomendacoes.map((t,m)=>e.jsx("li",{children:t},m))})]})]})]})})}),e.jsxs(d,{item:!0,xs:12,md:4,children:[e.jsx(D,{children:e.jsxs(T,{children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"📋 Progresso CBA"}),e.jsx(Ie,{activeStep:l+1,orientation:"vertical",children:N.map((t,m)=>e.jsxs(Oe,{children:[e.jsx(ke,{icon:l>m?e.jsx(Ue,{color:"success"}):void 0,children:t.label}),e.jsx(We,{children:e.jsx(s,{variant:"body2",children:t.descricao})})]},m))})]})}),e.jsx(D,{sx:{mt:2},children:e.jsxs(T,{children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"🤔 O que é CBA?"}),e.jsxs(s,{variant:"body2",paragraph:!0,children:[e.jsx("strong",{children:"CBA"})," encontra regras do tipo:"]}),e.jsx(E,{sx:{p:2,bgcolor:"grey.50",mb:2},children:e.jsxs(s,{variant:"body2",sx:{fontFamily:"monospace"},children:['SE idade = "jovem" E renda = "alta"',e.jsx("br",{}),'ENTÃO compra = "sim"']})}),e.jsxs(s,{variant:"body2",children:[e.jsx("strong",{children:"Suporte:"})," Frequência da regra",e.jsx("br",{}),e.jsx("strong",{children:"Confiança:"})," Precisão da regra",e.jsx("br",{}),e.jsx("strong",{children:"Lift:"})," Força da associação"]})]})}),e.jsx(D,{sx:{mt:2},children:e.jsxs(T,{children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"💡 Dicas para CBA"}),e.jsxs(Me,{dense:!0,children:[e.jsxs(ee,{children:[e.jsx(se,{children:e.jsx(ns,{})}),e.jsx(ae,{primary:"Dados Categóricos",secondary:"CBA funciona melhor com categorias (ex: alto/médio/baixo)"})]}),e.jsxs(ee,{children:[e.jsx(se,{children:e.jsx(_e,{})}),e.jsx(ae,{primary:"Mínimo 50 registros",secondary:"Mais dados = regras mais confiáveis"})]}),e.jsxs(ee,{children:[e.jsx(se,{children:e.jsx(Re,{})}),e.jsx(ae,{primary:"Variável Alvo",secondary:"Defina claramente o que quer prever"})]})]})]})})]})]}),r&&i&&e.jsx(He,{dados:{titulo:`CBA Analysis - ${(o==null?void 0:o.name)||"Análise"}`,subtitulo:"Regras de Associação descobertas automaticamente",dados:r.regrasEncontradas||[],metricas:[{nome:"Regras Descobertas",valor:((ne=r.regrasEncontradas)==null?void 0:ne.length)||0,tipo:"numero",descricao:'Total de regras "SE...ENTÃO" encontradas'},{nome:"Confiança Média",valor:`${((ce=r.confiancaMedia)==null?void 0:ce.toFixed(1))||"0"}%`,tipo:"percentual",descricao:"Confiança média das regras descobertas"},{nome:"Suporte Médio",valor:`${((le=r.suporteMedia)==null?void 0:le.toFixed(1))||"0"}%`,tipo:"percentual",descricao:"Suporte médio das regras"},{nome:"Registros Processados",valor:i.totalLinhas,tipo:"numero",descricao:"Total de registros analisados"},{nome:"Colunas Categóricas",valor:((de=i.tipos)==null?void 0:de.filter(t=>t.tipo==="categórico").length)||0,tipo:"numero",descricao:"Número de variáveis categóricas utilizadas"}],analise:{resumo:`Análise CBA concluída descobrindo ${((he=r.regrasEncontradas)==null?void 0:he.length)||0} regras de associação com confiança média de ${((me=r.confiancaMedia)==null?void 0:me.toFixed(1))||"0"}%.`,detalhes:[`Dataset analisado: ${i.totalLinhas} registros com ${i.totalColunas} colunas`,`Regras extraídas: ${((ue=r.regrasEncontradas)==null?void 0:ue.length)||0} padrões "SE...ENTÃO"`,`Melhor regra: ${((pe=(xe=r.regrasEncontradas)==null?void 0:xe[0])==null?void 0:pe.regra)||"N/A"} (Confiança: ${((ve=(je=(ge=r.regrasEncontradas)==null?void 0:ge[0])==null?void 0:je.confianca)==null?void 0:ve.toFixed(1))||"0"}%)`,`Colunas utilizadas: ${((fe=i.tipos)==null?void 0:fe.filter(t=>t.tipo==="categórico").map(t=>t.nome).join(", "))||"N/A"}`,"Algoritmo CBA aplicado para descoberta automática de padrões"],recomendacoes:["Use regras com alta confiança (>70%) para tomada de decisão","Considere o suporte para entender a frequência dos padrões","Valide as regras com especialistas do domínio","Teste as regras em novos conjuntos de dados antes de aplicar"],limitacoes:["Qualidade das regras depende da qualidade e representatividade dos dados","Regras podem não capturar relações causais, apenas correlações","Interpretação deve considerar o contexto específico do problema","Dados categóricos produzem melhores resultados que dados numéricos"]},configuracao:{algoritmo:"Classification Based on Associations (CBA)",suporteMinimo:((n=r.parametros)==null?void 0:n.suporteMinimo)||.1,confiancaMinima:((v=r.parametros)==null?void 0:v.confiancaMinima)||.5,maxRegras:((F=r.parametros)==null?void 0:F.maxRegras)||100,tipoAnalise:"Regras de Associação Categóricas"}},nomeArquivo:`cba_${((R=o==null?void 0:o.name)==null?void 0:R.replace(".csv",""))||"analise"}_${new Date().toISOString().slice(0,10)}`,onExportSuccess:t=>{h([{tipo:"success",titulo:"Export Realizado",mensagem:`Arquivo ${t.toUpperCase()} baixado com sucesso!`}])},onExportError:t=>{h([{tipo:"error",titulo:"Erro no Export",mensagem:t}])}})]})},$s=()=>{const[o,u]=M.useState("dashboard"),[a,x]=M.useState(!1),[l,p]=M.useState(!1),i=cs(),C=ls(i.breakpoints.down("md")),r=M.useMemo(()=>[{id:"dashboard",nome:"Dashboard",icon:e.jsx(Re,{}),status:"ativo"},{id:"analisador",nome:"Analisador CBA",icon:e.jsx(ds,{}),status:"ativo"},{id:"automl",nome:"AutoML",icon:e.jsx(hs,{}),status:"ativo"},{id:"santa_catarina",nome:"Santa Catarina",icon:e.jsx(ms,{}),status:"implementado"}],[]),w=M.useCallback(h=>U(null,null,function*(){p(!0),yield new Promise(L=>setTimeout(L,300)),u(h),p(!1),console.log(`Navegando para: ${h}`)}),[]),V=()=>e.jsxs(d,{container:!0,spacing:3,children:[e.jsx(d,{item:!0,xs:12,children:e.jsxs(z,{severity:"info",sx:{mb:3},children:[e.jsx(s,{variant:"h6",children:"📊 Sistema de Análise de Dados"}),e.jsx(s,{variant:"body2",children:"Interface web para análise de dados com ferramentas de machine learning e estatística."})]})}),e.jsx(d,{item:!0,xs:12,md:4,children:e.jsx(D,{sx:{height:"100%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white"},children:e.jsxs(T,{children:[e.jsx(s,{variant:"h4",gutterBottom:!0,children:"🚀 AutoML"}),e.jsx(s,{variant:"h6",children:"Machine Learning Automático"}),e.jsx(s,{variant:"body2",sx:{mt:1},children:"Treine modelos automaticamente com seus dados"})]})})}),e.jsx(d,{item:!0,xs:12,md:4,children:e.jsx(D,{sx:{height:"100%",background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white"},children:e.jsxs(T,{children:[e.jsx(s,{variant:"h4",gutterBottom:!0,children:"🔍 CBA"}),e.jsx(s,{variant:"h6",children:"Descoberta de Regras"}),e.jsx(s,{variant:"body2",sx:{mt:1},children:"Encontre padrões e regras nos seus dados"})]})})}),e.jsx(d,{item:!0,xs:12,md:4,children:e.jsx(D,{sx:{height:"100%",background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"white"},children:e.jsxs(T,{children:[e.jsx(s,{variant:"h4",gutterBottom:!0,children:"📈 Dados SC"}),e.jsx(s,{variant:"h6",children:"Santa Catarina"}),e.jsx(s,{variant:"body2",sx:{mt:1},children:"Dados públicos de Santa Catarina"})]})})}),e.jsx(d,{item:!0,xs:12,children:e.jsxs(E,{sx:{p:3},children:[e.jsx(s,{variant:"h5",gutterBottom:!0,children:"🛠️ Seções da Plataforma"}),e.jsx(d,{container:!0,spacing:2,children:r.map(h=>e.jsx(d,{item:!0,xs:12,sm:6,md:3,children:e.jsx(D,{sx:{cursor:"pointer","&:hover":{transform:"scale(1.02)"},transition:"transform 0.2s",border:o===h.id?2:0,borderColor:"primary.main"},onClick:()=>w(h.id),children:e.jsxs(T,{sx:{textAlign:"center"},children:[h.icon,e.jsx(s,{variant:"h6",sx:{mt:1},children:h.nome}),e.jsx(Z,{label:h.status,color:h.status==="ativo"?"success":"primary",size:"small",sx:{mt:1}})]})})},h.id))})]})})]}),_=()=>e.jsxs(f,{children:[e.jsx(s,{variant:"h4",gutterBottom:!0,children:"🏝️ Dados de Santa Catarina"}),e.jsxs(z,{severity:"info",sx:{mb:3},children:[e.jsx(s,{variant:"h6",children:"Portal de Dados Públicos"}),e.jsx(s,{variant:"body2",children:"Acesso a dados públicos e estatísticas oficiais de Santa Catarina."})]}),e.jsxs(E,{sx:{p:3},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"📊 Datasets Disponíveis:"}),e.jsxs(d,{container:!0,spacing:2,children:[e.jsx(d,{item:!0,xs:12,md:6,children:e.jsx(D,{children:e.jsxs(T,{children:[e.jsx(s,{variant:"h6",children:"População por Município"}),e.jsx(s,{variant:"body2",children:"Dados demográficos atualizados"})]})})}),e.jsx(d,{item:!0,xs:12,md:6,children:e.jsx(D,{children:e.jsxs(T,{children:[e.jsx(s,{variant:"h6",children:"Indicadores Econômicos"}),e.jsx(s,{variant:"body2",children:"PIB, emprego e desenvolvimento"})]})})})]})]})]}),j=()=>{if(l)return e.jsxs(f,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:200},children:[e.jsx(vs,{size:60}),e.jsx(s,{variant:"h6",sx:{ml:2},children:"Carregando seção..."})]});switch(o){case"dashboard":return V();case"analisador":return e.jsx(Es,{});case"automl":return e.jsx(Ss,{});case"santa_catarina":return _();default:return V()}};return e.jsxs(f,{sx:{minHeight:"100vh",bgcolor:"background.default"},children:[e.jsx(us,{position:"static",sx:{background:"linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)"},children:e.jsxs(xs,{children:[e.jsx(ps,{sx:{mr:2,fontSize:{xs:24,md:32}}}),e.jsx(s,{variant:C?"h6":"h5",component:"div",sx:{flexGrow:1,fontWeight:"bold",fontSize:{xs:"1rem",sm:"1.25rem",md:"1.5rem"}},children:C?"DataScience Pro":"DataScience Pro - Plataforma de Análise de Dados"}),e.jsx(gs,{control:e.jsx(js,{checked:a,onChange:h=>x(h.target.checked),color:"default"}),label:"Modo Avançado",sx:{color:"white"}})]})}),e.jsxs(ze,{maxWidth:"xl",sx:{py:{xs:2,md:4}},children:[e.jsxs(E,{sx:{p:2,mb:4},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"🧭 Navegação Principal"}),e.jsx(f,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:r.map(h=>e.jsx(te,{variant:o===h.id?"contained":"outlined",startIcon:h.icon,onClick:()=>w(h.id),size:C?"small":"medium",sx:{mb:1},children:C?h.nome.split(" ")[0]:h.nome},h.id))})]}),e.jsx(f,{sx:{minHeight:400},children:j()})]})]})},Ms=fs({palette:{mode:"light",primary:{main:"#1976d2"}}}),Rs=()=>e.jsxs(bs,{theme:Ms,children:[e.jsx(ys,{}),e.jsx($s,{})]}),Pe=document.getElementById("root");Pe&&ws.createRoot(Pe).render(e.jsx(M.StrictMode,{children:e.jsx(Rs,{})}))});export default Ls();
